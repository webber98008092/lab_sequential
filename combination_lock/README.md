# Lab sequential -- combination lock
* 實驗目的: 實作一個密碼鎖的邏輯，只有當輸入正確密碼時才會解鎖
* 摘要: 參考下方 hackmd 檔案 

## combination_lock.v
輸入和輸出:  
input [3:0] x: 4位數字輸入，用於設定或解鎖組合鎖。  
input clk: 時鐘信號。  
input reset: 重置信號，用於將狀態機重置為初始狀態。  
input enter: 確認輸入信號，用於確認每一個數字的輸入。  
input lock: 鎖定信號，用於鎖定或重新鎖定組合鎖。  
output reg door_open: 用來表示門是否開啟。當這個輸出為1時，表示門已經開啟。  
output reg [7:0] seven_segment_data: 用於七段顯示器的8位數據輸出。  
output [3:0] seven_segment_enable: 用於七段顯示器的使能信號。  

主要邏輯:  
狀態機: 模塊基於有限狀態機（FSM）實現。有五個狀態：s0, s2, s23, s234, s2346。  
狀態轉移: 根據當前狀態和輸入（x, enter, lock）來決定下一個狀態（next_state）。  
開門邏輯: 門會在狀態轉移到s2346並且enter為1時開啟。  
七段顯示: 不同的狀態會有不同的七段顯示輸出。  

主要功能:  
組合鎖: 模塊模擬了一個組合鎖的功能。必須按照特定的數字序列（2, 3, 4, 6）來開啟。  
狀態顯示: 使用七段顯示器來顯示當前的組合鎖狀態。  
開門與鎖門: 提供開門和鎖門的功能。當狀態達到s2346時，door_open會變為1，表示門已開；當lock信號為1時，門會鎖上。

## combination_lock_tb.v
目的: 驗證combination_lock模塊的功能，特別是其解鎖和鎖定的行為，以及七段顯示器的輸出。  
流程:  
1.初始化: 在模擬開始時，將所有的輸入信號設置為其初始值。這包括將clk設置為0、reset設置為1（啟動重置）、x設置為0、enter和lock都設置為0。  
2.輸入密碼序列: 從時刻#150開始，我們模擬輸入一系列的密碼：
* 先按下enter並將x設置為1。
* 隨後，按照順序輸入密碼2-3-1-2-3-4。
* 在輸入密碼之間，每隔20單位時間更改x的值。
* 在完成密碼輸入後，放開enter按鈕，然後再次設置x為6。

3.鎖定和解鎖:
* 在時刻#210，enter被按下並且x再次設置為6。
* 接下來，密碼1-2-2-2被輸入。
* 在時刻#260，模擬鎖定功能，將lock設置為1。
* 20單位時間後，將lock設置回0以模擬解鎖。

4.時鐘驅動: 使用一個always塊來產生一個周期為20單位時間的時鐘信號。每10單位時間，clk的值都會被反轉。

## synthesis.log
https://hackmd.io/lwqJfaWDQaG89_MURq4PeQ
